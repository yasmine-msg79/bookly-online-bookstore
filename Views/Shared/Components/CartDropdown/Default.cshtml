@model Cart

<h4 class="d-flex justify-content-between align-items-center mb-3">
    <span class="text-primary">Your cart</span>
    <span class="badge bg-primary rounded-pill">@Model.CartItems.Count</span>
</h4>

<ul class="list-group mb-3">
    @foreach (var item in Model.CartItems.Take(3)) // Show only first 3 items
    {
        <li class="list-group-item bg-transparent d-flex justify-content-between lh-sm">
            <div>
                <h6 class="mb-1">
                    <a href="@Url.Action("Details", "Books", new { id = item.BookId })">@item.Book.Title</a>
                </h6>
                <small class="text-muted">Qty: @item.Quantity</small>
            </div>
            <span class="text-primary">$@((item.Book.Price * item.Quantity).ToString("F2"))</span>
        </li>
    }
    
    @if (Model.CartItems.Count > 3)
    {
        <li class="list-group-item bg-transparent text-center">
            <small class="text-muted">... and @(Model.CartItems.Count - 3) more items</small>
        </li>
    }
    
    <li class="list-group-item bg-transparent d-flex justify-content-between">
        <span class="text-capitalize"><b>Total (USD)</b></span>
        <strong>$@Model.CartItems.Sum(ci => ci.Book.Price * ci.Quantity).ToString("F2")</strong>
    </li>
</ul>

<div class="d-flex flex-wrap justify-content-center">
    <a href="@Url.Action("Index", "Cart")" class="w-100 btn btn-dark mb-1">View Cart</a>
    <a href="@Url.Action("Checkout", "Cart")" class="w-100 btn btn-primary">Go to checkout</a>
</div>
